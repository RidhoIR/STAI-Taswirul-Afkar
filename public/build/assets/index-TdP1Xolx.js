import{r as u,j as L,t as X,b as Y}from"./app-Cq20QrRz.js";import{u as _,P as T,d as J}from"./index-D5c50GQy.js";function xe(e,t){const n=u.createContext(t),s=c=>{const{children:i,...r}=c,f=u.useMemo(()=>r,Object.values(r));return L.jsx(n.Provider,{value:f,children:i})};s.displayName=e+"Provider";function o(c){const i=u.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[s,o]}function Oe(e,t=[]){let n=[];function s(c,i){const r=u.createContext(i),f=n.length;n=[...n,i];const a=p=>{var m;const{scope:E,children:b,...P}=p,d=((m=E==null?void 0:E[e])==null?void 0:m[f])||r,C=u.useMemo(()=>P,Object.values(P));return L.jsx(d.Provider,{value:C,children:b})};a.displayName=c+"Provider";function l(p,E){var d;const b=((d=E==null?void 0:E[e])==null?void 0:d[f])||r,P=u.useContext(b);if(P)return P;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[a,l]}const o=()=>{const c=n.map(i=>u.createContext(i));return function(r){const f=(r==null?void 0:r[e])||c;return u.useMemo(()=>({[`__scope${e}`]:{...r,[e]:f}}),[r,f])}};return o.scopeName=e,[s,Q(o,...t)]}function Q(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const i=s.reduce((r,{useScope:f,scopeName:a})=>{const p=f(c)[`__scope${a}`];return{...r,...p}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function D(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}var G=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},Z=X.useId||(()=>{}),ee=0;function Le(e){const[t,n]=u.useState(Z());return G(()=>{n(s=>s??String(ee++))},[e]),e||(t?`radix-${t}`:"")}function O(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function ge({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,o]=te({defaultProp:t,onChange:n}),c=e!==void 0,i=c?e:s,r=O(n),f=u.useCallback(a=>{if(c){const p=typeof a=="function"?a(e):a;p!==e&&r(p)}else o(a)},[c,e,o,r]);return[i,f]}function te({defaultProp:e,onChange:t}){const n=u.useState(e),[s]=n,o=u.useRef(s),c=O(t);return u.useEffect(()=>{o.current!==s&&(c(s),o.current=s)},[s,o,c]),n}function ne(e,t=globalThis==null?void 0:globalThis.document){const n=O(e);u.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var se="DismissableLayer",I="dismissableLayer.update",re="dismissableLayer.pointerDownOutside",oe="dismissableLayer.focusOutside",k,q=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ue=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:i,onDismiss:r,...f}=e,a=u.useContext(q),[l,p]=u.useState(null),E=(l==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=u.useState({}),P=_(t,v=>p(v)),d=Array.from(a.layers),[C]=[...a.layersWithOutsidePointerEventsDisabled].slice(-1),m=d.indexOf(C),S=l?d.indexOf(l):-1,y=a.layersWithOutsidePointerEventsDisabled.size>0,h=S>=m,g=ae(v=>{const F=v.target,U=[...a.branches].some(w=>w.contains(F));!h||U||(o==null||o(v),i==null||i(v),v.defaultPrevented||r==null||r())},E),M=de(v=>{const F=v.target;[...a.branches].some(w=>w.contains(F))||(c==null||c(v),i==null||i(v),v.defaultPrevented||r==null||r())},E);return ne(v=>{S===a.layers.size-1&&(s==null||s(v),!v.defaultPrevented&&r&&(v.preventDefault(),r()))},E),u.useEffect(()=>{if(l)return n&&(a.layersWithOutsidePointerEventsDisabled.size===0&&(k=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),a.layersWithOutsidePointerEventsDisabled.add(l)),a.layers.add(l),B(),()=>{n&&a.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=k)}},[l,E,n,a]),u.useEffect(()=>()=>{l&&(a.layers.delete(l),a.layersWithOutsidePointerEventsDisabled.delete(l),B())},[l,a]),u.useEffect(()=>{const v=()=>b({});return document.addEventListener(I,v),()=>document.removeEventListener(I,v)},[]),L.jsx(T.div,{...f,ref:P,style:{pointerEvents:y?h?"auto":"none":void 0,...e.style},onFocusCapture:D(e.onFocusCapture,M.onFocusCapture),onBlurCapture:D(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:D(e.onPointerDownCapture,g.onPointerDownCapture)})});ue.displayName=se;var ce="DismissableLayerBranch",ie=u.forwardRef((e,t)=>{const n=u.useContext(q),s=u.useRef(null),o=_(t,s);return u.useEffect(()=>{const c=s.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),L.jsx(T.div,{...e,ref:o})});ie.displayName=ce;function ae(e,t=globalThis==null?void 0:globalThis.document){const n=O(e),s=u.useRef(!1),o=u.useRef(()=>{});return u.useEffect(()=>{const c=r=>{if(r.target&&!s.current){let f=function(){H(re,n,a,{discrete:!0})};const a={originalEvent:r};r.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function de(e,t=globalThis==null?void 0:globalThis.document){const n=O(e),s=u.useRef(!1);return u.useEffect(()=>{const o=c=>{c.target&&!s.current&&H(oe,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function B(){const e=new CustomEvent(I);document.dispatchEvent(e)}function H(e,t,n,{discrete:s}){const o=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?J(o,c):o.dispatchEvent(c)}var R="focusScope.autoFocusOnMount",N="focusScope.autoFocusOnUnmount",j={bubbles:!1,cancelable:!0},le="FocusScope",fe=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...i}=e,[r,f]=u.useState(null),a=O(o),l=O(c),p=u.useRef(null),E=_(t,d=>f(d)),b=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(s){let d=function(y){if(b.paused||!r)return;const h=y.target;r.contains(h)?p.current=h:x(p.current,{select:!0})},C=function(y){if(b.paused||!r)return;const h=y.relatedTarget;h!==null&&(r.contains(h)||x(p.current,{select:!0}))},m=function(y){if(document.activeElement===document.body)for(const g of y)g.removedNodes.length>0&&x(r)};document.addEventListener("focusin",d),document.addEventListener("focusout",C);const S=new MutationObserver(m);return r&&S.observe(r,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",C),S.disconnect()}}},[s,r,b.paused]),u.useEffect(()=>{if(r){W.add(b);const d=document.activeElement;if(!r.contains(d)){const m=new CustomEvent(R,j);r.addEventListener(R,a),r.dispatchEvent(m),m.defaultPrevented||(ve(he(V(r)),{select:!0}),document.activeElement===d&&x(r))}return()=>{r.removeEventListener(R,a),setTimeout(()=>{const m=new CustomEvent(N,j);r.addEventListener(N,l),r.dispatchEvent(m),m.defaultPrevented||x(d??document.body,{select:!0}),r.removeEventListener(N,l),W.remove(b)},0)}}},[r,a,l,b]);const P=u.useCallback(d=>{if(!n&&!s||b.paused)return;const C=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,m=document.activeElement;if(C&&m){const S=d.currentTarget,[y,h]=Ee(S);y&&h?!d.shiftKey&&m===h?(d.preventDefault(),n&&x(y,{select:!0})):d.shiftKey&&m===y&&(d.preventDefault(),n&&x(h,{select:!0})):m===S&&d.preventDefault()}},[n,s,b.paused]);return L.jsx(T.div,{tabIndex:-1,...i,ref:E,onKeyDown:P})});fe.displayName=le;function ve(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(x(s,{select:t}),document.activeElement!==n)return}function Ee(e){const t=V(e),n=K(t,e),s=K(t.reverse(),e);return[n,s]}function V(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function K(e,t){for(const n of e)if(!me(n,{upTo:t}))return n}function me(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pe(e){return e instanceof HTMLInputElement&&"select"in e}function x(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&pe(e)&&t&&e.select()}}var W=be();function be(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=$(e,t),e.unshift(t)},remove(t){var n;e=$(e,t),(n=e[0])==null||n.resume()}}}function $(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function he(e){return e.filter(t=>t.tagName!=="A")}var ye="Portal",Pe=u.forwardRef((e,t)=>{var r;const{container:n,...s}=e,[o,c]=u.useState(!1);G(()=>c(!0),[]);const i=n||o&&((r=globalThis==null?void 0:globalThis.document)==null?void 0:r.body);return i?Y.createPortal(L.jsx(T.div,{...s,ref:t}),i):null});Pe.displayName=ye;var A=0;function Fe(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??z()),document.body.insertAdjacentElement("beforeend",e[1]??z()),A++,()=>{A===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),A--}},[])}function z(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}export{ue as D,fe as F,Pe as P,ge as a,Le as b,Oe as c,D as d,Fe as e,xe as f,O as g,G as u};
