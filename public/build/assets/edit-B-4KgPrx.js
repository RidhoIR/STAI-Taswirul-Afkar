import{r as m,G as j,X as _,j as a}from"./app-BBQWj3Z0.js";import{B as p}from"./button-DS9nH2gV.js";import{D,a as S,b as v,c as b,d as C,e as F,f as k}from"./dialog-R71SSAsz.js";import{I as o}from"./input-CeWe9o5j.js";import{L as l}from"./label-C8VySgat.js";import{B as N}from"./index-DNJw_j18.js";import{S as P,a as y,b as E,c as L,d as B}from"./select-y2qKROeo.js";import"./index-BrK_47gg.js";import"./x-Cu8qtkDM.js";import"./index-DCfMuLuw.js";import"./createLucideIcon-BLLB2zsf.js";import"./iconBase-D3EbdNuD.js";import"./index-Dstcc0WS.js";import"./index-CawtU4Ab.js";import"./index-EOlApzBd.js";import"./chevron-down-yUTsRSP9.js";import"./check-B5GXkauZ.js";const Q=({lpj:s})=>{const[g,d]=m.useState(!1),{data:c,setData:r,put:h,processing:x,errors:i}=j({id_anggaran:s.anggaran.id.toString(),file_laporan:null,file_dokumentasi:null,narasi:s.narasi});m.useEffect(()=>{r({id_anggaran:s.anggaran.id.toString(),file_laporan:null,file_dokumentasi:null,narasi:s.narasi})},[s]);const u=e=>{e.preventDefault(),h(route("pengurus.lpj.update",s.id),{onSuccess:()=>d(!1)})},{anggarans:f}=_().props;return a.jsx("div",{children:a.jsxs(D,{open:g,onOpenChange:d,children:[a.jsx(S,{asChild:!0,children:a.jsx(p,{variant:"blue",children:a.jsx(N,{})})}),a.jsxs(v,{children:[a.jsxs(b,{children:[a.jsx(C,{children:"Edit LPJ"}),a.jsx(F,{children:"Ubah informasi LPJ Anda di sini."})]}),a.jsx("form",{onSubmit:u,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(l,{htmlFor:"id_anggaran",children:"Anggaran"}),a.jsxs(P,{value:c.id_anggaran,onValueChange:e=>r("id_anggaran",e),children:[a.jsx(y,{className:"w-full",children:a.jsx(E,{placeholder:"Pilih Anggaran"})}),a.jsx(L,{children:f.map(e=>a.jsx(B,{value:e.id.toString(),children:e.perihal},e.id))})]}),i.id_anggaran&&a.jsx("p",{className:"text-red-600",children:i.id_anggaran})]}),a.jsxs("div",{children:[a.jsx(l,{htmlFor:"file_laporan",children:"File Laporan (PDF/Word)"}),a.jsx(o,{type:"file",id:"file_laporan",onChange:e=>{var n;const t=((n=e.target.files)==null?void 0:n[0])||null;r("file_laporan",t)}}),i.file_laporan&&a.jsx("p",{className:"text-red-500",children:i.file_laporan})]}),a.jsxs("div",{children:[a.jsx(l,{htmlFor:"file_dokumentasi",children:"File Dokumentasi (PDF/Word)"}),a.jsx(o,{type:"file",id:"file_dokumentasi",onChange:e=>{var n;const t=((n=e.target.files)==null?void 0:n[0])||null;r("file_dokumentasi",t)}}),i.file_dokumentasi&&a.jsx("p",{className:"text-red-500",children:i.file_dokumentasi})]}),a.jsxs("div",{children:[a.jsx(l,{htmlFor:"narasi",children:"Narasi"}),a.jsx(o,{type:"text",id:"narasi",value:c.narasi,onChange:e=>r("narasi",e.target.value)}),i.narasi&&a.jsx("p",{className:"text-red-500",children:i.narasi})]}),a.jsx(k,{children:a.jsx(p,{type:"submit",disabled:x,children:"Save Changes"})})]})})]})]})})};export{Q as default};
