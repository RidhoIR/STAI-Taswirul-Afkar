import{r as u,G as _,j as a}from"./app-C45odvsW.js";import{B as i}from"./button-BcOaYvYF.js";import{D as h,a as x,b as f,d as D,e as v,f as S}from"./dialog-9aZ8i5N5.js";import{P as y,a as C,b}from"./popover-B0EHPlDn.js";import{L as k}from"./label-DI35v_F7.js";import{B as w}from"./index-DaE-GMBj.js";import{C as P}from"./calendar-C0DOGQUA.js";import{f as E,c as N}from"./index-HOwh0Hi1.js";import{C as T}from"./calendar-GHoLnqix.js";import"./x-C2Zn9AI2.js";import"./index-B2P6MX9l.js";import"./createLucideIcon-B1s5H1ba.js";import"./index-BRIxwFix.js";import"./index-BXcIe4D2.js";import"./index-CoG2NX11.js";import"./iconBase-BUzxELbk.js";import"./chevron-right-ClLPopkT.js";import"./chevron-left-CCUoie9z.js";const W=({anggaran:e})=>{const[p,r]=u.useState(!1),{put:c,data:t,setData:n,processing:m,reset:d}=_({status_anggaran:e.status_anggaran,keterangan:e.keterangan,jumlah_anggaran_disetujui:e.jumlah_anggaran_disetujui,tgl_pencairan:e.tgl_pencairan||"",status_pencairan:e.status_pencairan,tgl_pengajuan:e.tgl_pengajuan});u.useEffect(()=>{n({...t,status_anggaran:e.status_anggaran,keterangan:e.keterangan,jumlah_anggaran_disetujui:e.jumlah_anggaran_disetujui,tgl_pencairan:e.tgl_pencairan,status_pencairan:e.status_pencairan,tgl_pengajuan:e.tgl_pengajuan})},[e]);const g=(s,o)=>{if(o){const l=new Date(o);l.setHours(12,0,0,0),n({...t,[s]:l.toISOString().split("T")[0]})}else n({...t,[s]:""})},j=s=>{s.preventDefault(),c(route("admin.anggaran.update",e.id),{onSuccess:()=>{d(),r(!1)},onError:()=>{}})};return a.jsxs(h,{open:p,onOpenChange:r,children:[a.jsx(x,{asChild:!0,children:a.jsx(i,{variant:"outline",children:a.jsx(w,{})})}),a.jsxs(f,{className:"sm:max-w-[425px]",children:[a.jsx(D,{children:"Edit Anggaran"}),a.jsx(v,{children:"Edit Rekap. Klik Simpan jika sudah selesai."}),a.jsxs("form",{onSubmit:j,children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx(k,{htmlFor:"tgl_pengajuan",children:"Tanggal Pengajuan"}),a.jsxs(y,{children:[a.jsx(C,{asChild:!0,children:a.jsxs(i,{variant:"outline",className:N("w-full justify-start text-left font-normal",!t.tgl_pengajuan&&"text-muted-foreground"),children:[t.tgl_pengajuan?E(new Date(t.tgl_pengajuan),"yyyy-MM-dd"):"Pilih Tanggal",a.jsx(T,{className:"ml-auto h-4 w-4 opacity-50"})]})}),a.jsx(b,{className:"w-auto p-0",children:a.jsx(P,{mode:"single",selected:t.tgl_pengajuan?new Date(t.tgl_pengajuan):void 0,onSelect:s=>g("tgl_pengajuan",s),initialFocus:!0})})]})]})}),a.jsx(S,{children:a.jsx(i,{type:"submit",disabled:m,children:"Save changes"})})]})]})]})};export{W as default};
