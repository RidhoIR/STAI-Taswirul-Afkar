import{r as a,j as l}from"./app-C9XtFx9T.js";import{a as H,c as $,b as L,d as P,P as z,e as G,F as K,D as Z}from"./index-CJ8Lalck.js";import{c as B,u as O,P as E,h as U,R as q}from"./index-CcI8aonz.js";import{c as y,R as J,A as b,C as Q,a as X}from"./index-DAz_KeOc.js";import{P as j}from"./index-DCHbVpt0.js";import{c as Y}from"./index-DeBKNC0o.js";var w=a.forwardRef((e,r)=>{const{children:o,...n}=e,t=a.Children.toArray(o),s=t.find(oe);if(s){const c=s.props.children,i=t.map(p=>p===s?a.Children.count(c)>1?a.Children.only(null):a.isValidElement(c)?c.props.children:null:p);return l.jsx(x,{...n,ref:r,children:a.isValidElement(c)?a.cloneElement(c,void 0,i):null})}return l.jsx(x,{...n,ref:r,children:o})});w.displayName="Slot";var x=a.forwardRef((e,r)=>{const{children:o,...n}=e;if(a.isValidElement(o)){const t=re(o),s=te(n,o.props);return o.type!==a.Fragment&&(s.ref=r?B(r,t):t),a.cloneElement(o,s)}return a.Children.count(o)>1?a.Children.only(null):null});x.displayName="SlotClone";var ee=({children:e})=>l.jsx(l.Fragment,{children:e});function oe(e){return a.isValidElement(e)&&e.type===ee}function te(e,r){const o={...r};for(const n in r){const t=e[n],s=r[n];/^on[A-Z]/.test(n)?t&&s?o[n]=(...i)=>{s(...i),t(...i)}:t&&(o[n]=t):n==="style"?o[n]={...t,...s}:n==="className"&&(o[n]=[t,s].filter(Boolean).join(" "))}return{...e,...o}}function re(e){var n,t;let r=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var R="Popover",[_,Oe]=$(R,[y]),g=y(),[ne,d]=_(R),N=e=>{const{__scopePopover:r,children:o,open:n,defaultOpen:t,onOpenChange:s,modal:c=!1}=e,i=g(r),p=a.useRef(null),[u,m]=a.useState(!1),[h=!1,f]=H({prop:n,defaultProp:t,onChange:s});return l.jsx(J,{...i,children:l.jsx(ne,{scope:r,contentId:L(),triggerRef:p,open:h,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(C=>!C),[f]),hasCustomAnchor:u,onCustomAnchorAdd:a.useCallback(()=>m(!0),[]),onCustomAnchorRemove:a.useCallback(()=>m(!1),[]),modal:c,children:o})})};N.displayName=R;var F="PopoverAnchor",se=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=d(F,o),s=g(o),{onCustomAnchorAdd:c,onCustomAnchorRemove:i}=t;return a.useEffect(()=>(c(),()=>i()),[c,i]),l.jsx(b,{...s,...n,ref:r})});se.displayName=F;var S="PopoverTrigger",D=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=d(S,o),s=g(o),c=O(r,t.triggerRef),i=l.jsx(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":V(t.open),...n,ref:c,onClick:P(e.onClick,t.onOpenToggle)});return t.hasCustomAnchor?i:l.jsx(b,{asChild:!0,...s,children:i})});D.displayName=S;var A="PopoverPortal",[ae,ce]=_(A,{forceMount:void 0}),M=e=>{const{__scopePopover:r,forceMount:o,children:n,container:t}=e,s=d(A,r);return l.jsx(ae,{scope:r,forceMount:o,children:l.jsx(j,{present:o||s.open,children:l.jsx(z,{asChild:!0,container:t,children:n})})})};M.displayName=A;var v="PopoverContent",T=a.forwardRef((e,r)=>{const o=ce(v,e.__scopePopover),{forceMount:n=o.forceMount,...t}=e,s=d(v,e.__scopePopover);return l.jsx(j,{present:n||s.open,children:s.modal?l.jsx(ie,{...t,ref:r}):l.jsx(le,{...t,ref:r})})});T.displayName=v;var ie=a.forwardRef((e,r)=>{const o=d(v,e.__scopePopover),n=a.useRef(null),t=O(r,n),s=a.useRef(!1);return a.useEffect(()=>{const c=n.current;if(c)return U(c)},[]),l.jsx(q,{as:w,allowPinchZoom:!0,children:l.jsx(k,{...e,ref:t,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),s.current||(i=o.triggerRef.current)==null||i.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,p=i.button===0&&i.ctrlKey===!0,u=i.button===2||p;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),le=a.forwardRef((e,r)=>{const o=d(v,e.__scopePopover),n=a.useRef(!1),t=a.useRef(!1);return l.jsx(k,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(n.current||(i=o.triggerRef.current)==null||i.focus(),s.preventDefault()),n.current=!1,t.current=!1},onInteractOutside:s=>{var p,u;(p=e.onInteractOutside)==null||p.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const c=s.target;((u=o.triggerRef.current)==null?void 0:u.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&t.current&&s.preventDefault()}})}),k=a.forwardRef((e,r)=>{const{__scopePopover:o,trapFocus:n,onOpenAutoFocus:t,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:m,...h}=e,f=d(v,o),C=g(o);return G(),l.jsx(K,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:t,onUnmountAutoFocus:s,children:l.jsx(Z,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:i,onPointerDownOutside:p,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:l.jsx(Q,{"data-state":V(f.open),role:"dialog",id:f.contentId,...C,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),I="PopoverClose",pe=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=d(I,o);return l.jsx(E.button,{type:"button",...n,ref:r,onClick:P(e.onClick,()=>t.onOpenChange(!1))})});pe.displayName=I;var ue="PopoverArrow",de=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=g(o);return l.jsx(X,{...t,...n,ref:r})});de.displayName=ue;function V(e){return e?"open":"closed"}var fe=N,ve=D,Pe=M,W=T;const Ee=fe,ye=ve,ge=a.forwardRef(({className:e,align:r="center",sideOffset:o=4,...n},t)=>l.jsx(Pe,{children:l.jsx(W,{ref:t,align:r,sideOffset:o,className:Y("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ge.displayName=W.displayName;export{Ee as P,ye as a,ge as b};
