import{X as O,r as d,G as P,j as e,S as T}from"./app-CA2mjpBr.js";import{D as _,a as D,b as L}from"./dialog-BP4OfGlF.js";import{B as q}from"./button-DxUUCjWz.js";import{C as c,a as u,b as f,c as g}from"./card-BAj7Qlfb.js";import{T as M,A as U,a as A}from"./TestLayout-D_vKyAxN.js";import{T as o,I as i}from"./TextInput-CNIYU_ZT.js";import{I as n}from"./InputLabel-CkcQ2Xeu.js";import E from"./UpdatePasswordForm-vC2LBTBe.js";import{c as v}from"./createLucideIcon-DNPJUewd.js";import"./x-CvdxRxSJ.js";import"./index-Ds9rPRju.js";import"./index-DTJ7YwaW.js";import"./index-CQ2P0si6.js";import"./index-DVW3RaW7.js";import"./input-lBXeKX99.js";import"./index-BUwdnkJY.js";import"./index-Br0LjNwL.js";import"./chevron-right-BhuqQ7Hl.js";import"./check-SibKoqf7.js";import"./chevrons-up-down-Dg93UcdG.js";import"./logo stai-DC2AgwFL.js";import"./PrimaryButton-XRFQ5-aU.js";import"./transition-CZCQibIc.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=v("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=v("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),he=({mahasiswa:s})=>{const N=O().props.flash;console.log(N.success),console.log(s);const[G,H]=d.useState(!1),{data:t,setData:l,reset:b,post:w,errors:r,processing:C}=P({foto:null,name:s.name,nim:s.nim,email:s.email,tahun_masuk:s.tahun_masuk,prodi:s.prodi}),[y,h]=d.useState(null),[k,F]=d.useState(!1),[p,x]=d.useState(null),S=a=>{var j;const m=(j=a.target.files)==null?void 0:j[0];m&&(l("foto",m),h(m),x(URL.createObjectURL(m)))},I=a=>{a.preventDefault(),w(route("mahasiswa.uploadFoto"),{forceFormData:!0,onSuccess:()=>{x(null),h(null),b("foto")}})};return e.jsxs(M,{children:[e.jsx(T,{title:"Profile"}),e.jsxs(c,{className:"overflow-hidden",children:[e.jsx("div",{className:"bg-slate-400 h-48 relative",children:e.jsxs("div",{className:"absolute -bottom-16 left-6 md:left-10",children:[e.jsxs("div",{className:"relative w-24 h-24 md:w-32 md:h-32",children:[e.jsxs(_,{open:k,onOpenChange:F,children:[e.jsx(D,{asChild:!0,children:e.jsx("div",{className:"w-full h-full rounded-full overflow-hidden cursor-pointer",children:e.jsx(U,{className:"w-full h-full rounded-full",children:e.jsx(A,{src:p||`/storage/${s.foto}`,alt:s.name,className:"w-full h-full object-cover"})})})}),e.jsx(L,{className:"max-w-md p-0 bg-transparent border-none shadow-none",children:e.jsx("img",{src:p||`/storage/${s.foto}`,alt:"Preview",className:"w-full h-auto rounded-lg shadow-lg"})})]}),e.jsxs("label",{htmlFor:"avatar-upload",className:"absolute bottom-1 right-1 bg-white rounded-full p-1 shadow cursor-pointer hover:bg-gray-100 transition",title:"Ganti Foto",onClick:a=>a.stopPropagation(),children:[e.jsx(R,{className:"w-6 h-6 text-gray-600"}),e.jsx("input",{type:"file",id:"avatar-upload",name:"foto",accept:"image/*",className:"hidden",onChange:S})]})]}),y&&e.jsx("form",{onSubmit:I,encType:"multipart/form-data",className:"mt-4",children:e.jsx(q,{type:"submit",disabled:C,children:"Simpan Foto"})})]})}),e.jsxs(u,{className:"pt-20 pb-6 px-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{children:t.email})]})]})]}),e.jsxs(c,{className:"w-full",children:[e.jsx(f,{children:e.jsx(g,{children:"Account Information"})}),e.jsx(u,{children:e.jsx("div",{className:"gap-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",value:"Name"}),e.jsx(o,{id:"name",className:"mt-1 block w-full",value:t.name,onChange:a=>l("name",a.target.value),required:!0,isFocused:!0,autoComplete:"name",readOnly:!0}),e.jsx(i,{className:"mt-2",message:r.name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",value:"Email"}),e.jsx(o,{id:"email",type:"email",className:"mt-1 block w-full",value:t.email,onChange:a=>l("email",a.target.value),required:!0,autoComplete:"email",readOnly:!0}),e.jsx(i,{className:"mt-2",message:r.email})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"tahun_masuk",value:"Tahun Masuk"}),e.jsx(o,{id:"tahun_masuk",type:"text",className:"mt-1 block w-full",value:t.tahun_masuk,onChange:a=>l("tahun_masuk",a.target.value),required:!0,autoComplete:"tahun_masuk",readOnly:!0}),e.jsx(i,{className:"mt-2",message:r.tahun_masuk})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"nim",value:"NIM"}),e.jsx(o,{id:"nim",className:"mt-1 block w-full",value:t.nim,onChange:a=>l("nim",a.target.value),required:!0,isFocused:!0,autoComplete:"nim",readOnly:!0}),e.jsx(i,{className:"mt-2",message:r.nim})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"prodi",value:"Prodi"}),e.jsx(o,{id:"prodi",type:"text",className:"mt-1 block w-full",value:t.prodi,onChange:a=>l("prodi",a.target.value),required:!0,autoComplete:"prodi",readOnly:!0}),e.jsx(i,{className:"mt-2",message:r.prodi})]})]})]})})})]}),e.jsxs(c,{className:"w-full",children:[e.jsx(f,{children:e.jsx(g,{children:"Ubah Kata Sandi"})}),e.jsx(u,{children:e.jsx("div",{className:"gap-4",children:e.jsx(E,{className:"max-w-full"})})})]})]})};export{he as default};
