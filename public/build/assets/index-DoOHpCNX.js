import{X as h,r as D,G as B,j as e,S as L}from"./app-B_T-3KC3.js";import{T as O}from"./TestLayout-B9Iw2TJr.js";import{column as z}from"./column-CVLI1L1y.js";import{D as E}from"./DataTable-CRT1arXO.js";import{I as k}from"./input-C7OU6nGP.js";import{L as p}from"./label-C44Kc2n6.js";import{B as y}from"./button-CRYzrFA3.js";import{a as A}from"./index-BfLqMeh1.js";import{S as j,a as x,b as u,c as b,d as l}from"./select-DQWo19SH.js";import{D as G,a as H,b as M,c as X,d as $,e as q,f as K}from"./dialog-C68XoqUr.js";import{C as Q,a as U}from"./card-DdKvZ28w.js";import"./index-CGOONips.js";import"./index-mSzaAGnr.js";import"./index-D_4PzsZM.js";import"./index-3IjU4tvV.js";import"./x-BFjxWGC8.js";import"./createLucideIcon-D3PaGiha.js";import"./index-hhJ96dlf.js";import"./index-DxlHtgId.js";import"./chevron-right-DE4heKsL.js";import"./check-CvLcGTD2.js";import"./chevrons-up-down-C8iKfVFb.js";import"./logo stai-DC2AgwFL.js";import"./format-rupiah.esm-Dv-bfkK6.js";import"./edit-BsHmv_Y5.js";import"./iconBase-Clcf0kio.js";import"./delete-C_JgsrT8.js";import"./index-Cp1Jd3lm.js";import"./arrow-up-down-B4GXRpPd.js";import"./table-D4qYwG0v.js";import"./chevron-down-DDJCOgeU.js";import"./search-BuelLBRH.js";const Ie=({jenis_pembayaran_semester:f})=>{const{flash:W}=h().props,[N,g]=D.useState(!1),{jenis_pembayaran:S}=h().props,{semesters:_}=h().props,{data:i,setData:n,post:C,reset:w,errors:r,processing:T}=B({jenis_pembayaran_id:"",semester_id:"",jumlah:""}),P=a=>{const t=a.replace(/[^,\d]/g,"").toString().split(","),d=t[0].length%3;let c=t[0].substr(0,d);const v=t[0].substr(d).match(/\d{3}/gi);return v&&(c+=(d?".":"")+v.join(".")),c?`Rp. ${c}`:"Rp. "},F=a=>{const s=a.target.value.replace(/\D/g,"");n("jumlah",s)},I=a=>{a.preventDefault(),g(!1),w(),C(route("admin.bendahara.detail-jenis-pembayaran.store"))},[o,J]=D.useState("all"),m=S.find(a=>a.id.toString()===i.jenis_pembayaran_id),R=m==null?void 0:m.is_once,V=o==="all"?f:f.filter(a=>{var s,t;return((t=(s=a.semester)==null?void 0:s.id)==null?void 0:t.toString())===o});return e.jsxs(O,{children:[e.jsx(L,{title:"Detail Jenis Pembayaran"}),e.jsx("div",{className:"md:max-w-full max-w-[350px]",children:e.jsx(Q,{className:"w-full bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 shadow-md",children:e.jsxs(U,{className:"p-6",children:[e.jsxs("div",{className:"flex md:justify-between flex-col md:flex-row mb-2",children:[e.jsx("div",{children:e.jsx("h1",{className:"md:text-3xl text-xl font-sans font-bold",children:"Detail Jenis Pembayaran"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(j,{value:o,onValueChange:a=>J(a),children:[e.jsx(x,{className:"w-full md:w-[200px]",children:e.jsx(u,{placeholder:"Pilih Semester"})}),e.jsxs(b,{children:[e.jsx(l,{value:"all",children:"Semua Semester"}),_.map((a,s)=>e.jsxs(l,{value:a.id.toString(),children:[a.semester," ",a.tahun_ajaran]},s))]})]}),e.jsxs(G,{open:N,onOpenChange:g,children:[e.jsx(H,{asChild:!0,children:e.jsxs(y,{variant:"blue",size:"default",children:[e.jsx(A,{size:20,className:"mr-2"})," Tambah Data"]})}),e.jsxs(M,{children:[e.jsxs(X,{children:[e.jsx($,{children:"Tambah Data"}),e.jsx(q,{children:"Make changes to the user's information."})]}),e.jsx("form",{onSubmit:I,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(p,{htmlFor:"jenis_pembayaran_id",children:"Jenis Pembayaran"}),e.jsxs(j,{value:i.jenis_pembayaran_id,onValueChange:a=>n("jenis_pembayaran_id",a),children:[e.jsx(x,{className:"w-full",children:e.jsx(u,{placeholder:"Pilih jenis pembayaran"})}),e.jsx(b,{children:S.map((a,s)=>e.jsx(l,{value:a.id.toString(),children:a.nama_pembayaran},s))})]}),r.jenis_pembayaran_id&&e.jsx("p",{className:"text-red-600",children:r.jenis_pembayaran_id})]}),!R&&e.jsxs("div",{className:"mb-4",children:[e.jsx(p,{htmlFor:"semester_id",children:"Semester"}),e.jsxs(j,{value:i.semester_id,onValueChange:a=>n("semester_id",a),children:[e.jsx(x,{className:"w-full",children:e.jsx(u,{placeholder:"Pilih Semester"})}),e.jsx(b,{children:_.map((a,s)=>e.jsxs(l,{value:a.id.toString(),children:[a.semester," ",a.tahun_ajaran]},s))})]}),r.semester_id&&e.jsx("p",{className:"text-red-600",children:r.semester_id})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"jumlah",children:"Jumlah"}),e.jsx(k,{id:"jumlah",value:P(i.jumlah),onChange:F}),r.jumlah&&e.jsx("p",{className:"text-red-600",children:r.jumlah})]}),e.jsx(K,{children:e.jsx(y,{type:"submit",disabled:T,children:"Save Changes"})})]})})]})]})]})]}),e.jsx("hr",{className:"border-t-2 border-gray-400"})]})})}),e.jsx(E,{data:V,columns:z})]})};export{Ie as default};
