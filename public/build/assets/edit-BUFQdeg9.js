import{r as k,X as E,G as L,j as e}from"./app-Cq20QrRz.js";import{B as p}from"./button-DrnRyrw2.js";import{D as M,a as q,b as O,c as R,d as T,e as w,f as H}from"./dialog-xZ33bj-4.js";import{I as c}from"./input-C5rDHr5D.js";import{L as m}from"./label-TukXHBQr.js";import{B as I}from"./index-hzt2OZIt.js";import{S as J,a as P,b as $,c as K,d as V}from"./select-BWswDKmn.js";import"./index-BPyi8Oh_.js";import"./x-upm_IIYa.js";import"./index-D5c50GQy.js";import"./createLucideIcon-BzBnNE0M.js";import"./iconBase-MPGX34T6.js";import"./index-TdP1Xolx.js";import"./index-l3wdiPOb.js";import"./index-C9hU1MwT.js";import"./chevron-down-BdJOh192.js";import"./check-BPv1hbry.js";const de=({honorarium:t})=>{var u,g,_,b,S;const[f,h]=k.useState(!1),{jabatan:N}=E().props,j=a=>{const n=new Date(a).getFullYear(),l=(new Date(a).getMonth()+1).toString().padStart(2,"0");return`${n}-${l}`},{put:D,data:o,setData:i,processing:C,errors:s}=L({name:t.name??"",jabatan_id:((g=(u=t.jabatan)==null?void 0:u.id)==null?void 0:g.toString())??"",jumlah:t.jumlah??0,periode:t.periode?j(t.periode):"",jumlah_mk:((_=t.jumlah_mk)==null?void 0:_.toString())??"",honor_mk:((b=t.honor_mk)==null?void 0:b.toString())??"",lain_lain:((S=t.lain_lain)==null?void 0:S.toString())??""});k.useEffect(()=>{var a,n,r,l,d;i({name:t.name??"",jabatan_id:((n=(a=t.jabatan)==null?void 0:a.id)==null?void 0:n.toString())??"",jumlah:t.jumlah??0,periode:t.periode?j(t.periode):"",jumlah_mk:((r=t.jumlah_mk)==null?void 0:r.toString())??"",honor_mk:((l=t.honor_mk)==null?void 0:l.toString())??"",lain_lain:((d=t.lain_lain)==null?void 0:d.toString())??""})},[t]);const y=a=>{a.preventDefault(),D(route("admin.bendahara.honorarium.update",t.id),{onSuccess:()=>h(!1)})},x=a=>{const r=a.replace(/[^,\d]/g,"").toString().split(","),l=r[0].length%3;let d=r[0].substr(0,l);const v=r[0].substr(l).match(/\d{3}/gi);return v&&(d+=(l?".":"")+v.join(".")),d?`Rp. ${d}`:"Rp. "},F=a=>{const n=a.target.value.replace(/\D/g,"");i("honor_mk",n)},B=a=>{const n=a.target.value.replace(/\D/g,"");i("lain_lain",n)};return e.jsx("div",{children:e.jsxs(M,{open:f,onOpenChange:h,children:[e.jsx(q,{asChild:!0,children:e.jsx(p,{variant:"blue",children:e.jsx(I,{})})}),e.jsxs(O,{children:[e.jsxs(R,{children:[e.jsx(T,{children:"Edit User"}),e.jsx(w,{children:"Make changes to the user's information."})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs(m,{htmlFor:"name",children:["Nama",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"name",type:"text",value:o.name,onChange:a=>i("name",a.target.value),required:!0}),s.name&&e.jsx("p",{className:"text-red-500",children:s.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs(m,{htmlFor:"jabatan_id",children:["Jabatan ",e.jsx("span",{className:"text-gray-600",children:"(opsional)"})]}),e.jsxs(J,{value:o.jabatan_id,onValueChange:a=>i("jabatan_id",a),children:[e.jsx(P,{className:"w-full",children:e.jsx($,{placeholder:"Pilih Jabatan"})}),e.jsx(K,{children:N.map((a,n)=>e.jsx(V,{value:a.id.toString(),children:a.name},n))})]}),s.jabatan_id&&e.jsx("p",{className:"text-red-600",children:s.jabatan_id})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs(m,{htmlFor:"periode",children:["Periode",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"periode",type:"month",value:o.periode,onChange:a=>i("periode",a.target.value),required:!0}),s.periode&&e.jsx("p",{className:"text-red-500",children:s.periode})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs(m,{htmlFor:"jumlah_mk",children:["Jumlah MK ",e.jsx("span",{className:"text-gray-600",children:"(opsional)"})]}),e.jsx(c,{id:"jumlah_mk",type:"number",value:o.jumlah_mk,onChange:a=>i("jumlah_mk",a.target.value)}),s.jumlah_mk&&e.jsx("p",{className:"text-red-500",children:s.jumlah_mk})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs(m,{htmlFor:"honor_mk",children:["Honor ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"honor_mk",type:"text",value:x(o.honor_mk),onChange:F,required:!0}),s.honor_mk&&e.jsx("p",{className:"text-red-500",children:s.honor_mk})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs(m,{htmlFor:"lain_lain",children:["Lain-lain ",e.jsx("span",{className:"text-gray-600",children:"(opsional)"})]}),e.jsx(c,{id:"lain_lain",type:"text",value:x(o.lain_lain),onChange:B}),s.lain_lain&&e.jsx("p",{className:"text-red-500",children:s.lain_lain})]}),e.jsxs(H,{children:[e.jsx(p,{type:"submit",disabled:C,children:"Ajukan"}),e.jsx(p,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Batal"})]})]})]})]})})};export{de as default};
