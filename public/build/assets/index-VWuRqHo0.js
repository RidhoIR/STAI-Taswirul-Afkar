import{X as h,r as N,G as q,j as e,S as B}from"./app-CnAtmw2r.js";import{T as L}from"./TestLayout-D3yt0knW.js";import{column as O}from"./column-B3lwsKft.js";import{D as z}from"./DataTable-D_nIXlVX.js";import{I as E}from"./input-BsuoZ_Ni.js";import{L as p}from"./label-DnqO1_1c.js";import{B as D}from"./button-BWdGOnz1.js";import{a as k}from"./index-C4tgHcK7.js";import{S as x,a as j,b as u,c as b,d as l}from"./select-CWKBNOYY.js";import{D as A,a as G,b as H,c as M,d as X,e as $,f as K}from"./dialog-Favw0_tG.js";import{C as Q,a as U}from"./card-D0W3rlJn.js";import"./index-DP8fRuxM.js";import"./index-B-Vsim4p.js";import"./index-BE3ABL--.js";import"./index-dXF4f3YF.js";import"./x-Bt684uya.js";import"./createLucideIcon-DscpJ9mQ.js";import"./index-QiDkJO17.js";import"./index-OkgT5qAp.js";import"./chevron-right-tB6hC5F7.js";import"./check-C-EOj9JY.js";import"./chevrons-up-down-Ex-OpgSe.js";import"./logo stai-DC2AgwFL.js";import"./format-rupiah.esm-Dv-bfkK6.js";import"./edit-BV5Kc936.js";import"./iconBase-BOevRcBT.js";import"./delete-s5BC-gj7.js";import"./index-D9fSCyXh.js";import"./arrow-up-down-DCOg2YKB.js";import"./table-B2l_CJup.js";import"./chevron-down-B2cITflA.js";import"./search-BTFPyprU.js";const Ie=({jenis_pembayaran_semester:f})=>{const{flash:W}=h().props,[y,g]=N.useState(!1),{jenis_pembayaran:S}=h().props,{semesters:_}=h().props,{data:i,setData:n,post:C,reset:w,errors:r,processing:T}=q({jenis_pembayaran_id:"",semester_id:"",jumlah:""}),P=s=>{const t=s.replace(/[^,\d]/g,"").toString().split(","),d=t[0].length%3;let c=t[0].substr(0,d);const v=t[0].substr(d).match(/\d{3}/gi);return v&&(c+=(d?".":"")+v.join(".")),c?`Rp. ${c}`:"Rp. "},F=s=>{const a=s.target.value.replace(/\D/g,"");n("jumlah",a)},I=s=>{s.preventDefault(),g(!1),w(),C(route("admin.bendahara.detail-jenis-pembayaran.store"))},[m,J]=N.useState("all"),o=S.find(s=>s.id.toString()===i.jenis_pembayaran_id),R=o==null?void 0:o.is_once,V=m==="all"?f:f.filter(s=>{var a,t;return((t=(a=s.semester)==null?void 0:a.id)==null?void 0:t.toString())===m});return e.jsxs(L,{children:[e.jsx(B,{title:"Detail Jenis Pembayaran"}),e.jsx("div",{className:"md:max-w-full max-w-[350px]",children:e.jsx(Q,{className:"w-full bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 shadow-md",children:e.jsxs(U,{className:"p-6",children:[e.jsxs("div",{className:"flex md:justify-between flex-col md:flex-row mb-2",children:[e.jsx("div",{children:e.jsx("h1",{className:"md:text-3xl text-xl font-sans font-bold",children:"Detail Jenis Pembayaran"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{value:m,onValueChange:s=>J(s),children:[e.jsx(j,{className:"w-full md:w-[200px]",children:e.jsx(u,{placeholder:"Pilih Semester"})}),e.jsxs(b,{children:[e.jsx(l,{value:"all",children:"Semua Semester"}),_.map((s,a)=>e.jsxs(l,{value:s.id.toString(),children:[s.semester," ",s.tahun_ajaran]},a))]})]}),e.jsxs(A,{open:y,onOpenChange:g,children:[e.jsx(G,{asChild:!0,children:e.jsxs(D,{variant:"blue",size:"default",children:[e.jsx(k,{size:20,className:"mr-2"})," Tambah Data"]})}),e.jsxs(H,{children:[e.jsxs(M,{children:[e.jsx(X,{children:"Tambah Data"}),e.jsx($,{children:"Make changes to the user's information."})]}),e.jsx("form",{onSubmit:I,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs(p,{htmlFor:"jenis_pembayaran_id",children:["Jenis Pembayaran",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs(x,{value:i.jenis_pembayaran_id,onValueChange:s=>n("jenis_pembayaran_id",s),required:!0,children:[e.jsx(j,{className:"w-full",children:e.jsx(u,{placeholder:"Pilih jenis pembayaran"})}),e.jsx(b,{children:S.map((s,a)=>e.jsx(l,{value:s.id.toString(),children:s.nama_pembayaran},a))})]}),r.jenis_pembayaran_id&&e.jsx("p",{className:"text-red-600",children:r.jenis_pembayaran_id})]}),!R&&e.jsxs("div",{className:"mb-4",children:[e.jsxs(p,{htmlFor:"semester_id",children:["Semester",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs(x,{value:i.semester_id,onValueChange:s=>n("semester_id",s),required:!0,children:[e.jsx(j,{className:"w-full",children:e.jsx(u,{placeholder:"Pilih Semester"})}),e.jsx(b,{children:_.map((s,a)=>e.jsxs(l,{value:s.id.toString(),children:[s.semester," ",s.tahun_ajaran]},a))})]}),r.semester_id&&e.jsx("p",{className:"text-red-600",children:r.semester_id})]}),e.jsxs("div",{children:[e.jsxs(p,{htmlFor:"jumlah",children:["Jumlah",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx(E,{id:"jumlah",value:P(i.jumlah),onChange:F,required:!0}),r.jumlah&&e.jsx("p",{className:"text-red-600",children:r.jumlah})]}),e.jsx(K,{children:e.jsx(D,{type:"submit",disabled:T,children:"Save Changes"})})]})})]})]})]})]}),e.jsx("hr",{className:"border-t-2 border-gray-400"})]})})}),e.jsx(z,{data:V,columns:O})]})};export{Ie as default};
