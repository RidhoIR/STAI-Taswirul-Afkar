import{X as m,r as j,G as b,j as a,S as _}from"./app-DFhKXVuD.js";import{column as D}from"./column-KxRaCrkB.js";import{D as v}from"./DataTable-C19z-mI4.js";import{D as S,a as N,b as k,c as F,d as T,e as y,f as C}from"./dialog-rvx_aAIP.js";import{I as o}from"./input-CdV9G3rj.js";import{L as t}from"./label-DSiHCO3T.js";import{a as L}from"./index-ZPmZJPAA.js";import{S as w,a as P,b as A,c as I,d as B}from"./select-gJXadm_8.js";import{B as p}from"./button-C3DzqjnH.js";import{T as z}from"./TestLayout-BPj7XTLy.js";import"./checkbox-Vfsb46UV.js";import"./index-Bx6ezrsC.js";import"./check-CWxCMmNt.js";import"./createLucideIcon-MxNkp8xw.js";import"./index-Ta04-ihw.js";import"./index-CI-oqIpK.js";import"./arrow-up-down-B9oQOWtk.js";import"./table-BU7Cg9Dw.js";import"./chevron-down-DlvySfdH.js";import"./search-Dbp_pE-Z.js";import"./x-DV8a7Qcg.js";import"./index-9i6I06m_.js";import"./iconBase-CdhEkb8C.js";import"./index-BF64Chr5.js";import"./index-DEgVysf_.js";import"./index-DZJxN6LA.js";import"./index-8olvqcgP.js";import"./chevron-right-Dn92pCz8.js";import"./chevrons-up-down-Dbcuya3r.js";import"./logo stai-DC2AgwFL.js";const ga=({lpjs:c})=>{m().props.flash;const[g,l]=j.useState(!1),{data:i,setData:n,post:u,errors:r,processing:h}=b({id_anggaran:"",file_laporan:null,foto_dokumentasi:null,narasi:""}),x=e=>{if(e.preventDefault(),!i.file_laporan){alert("File anggaran harus diunggah.");return}if(!i.foto_dokumentasi){alert("File dokumentasi harus diunggah.");return}u(route("pengurus.lpj.store"),{onSuccess:()=>l(!1)})},{anggarans:f}=m().props;return a.jsxs(z,{children:[a.jsx(_,{title:"Laporan Pertanggungjawaban"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center flex-col md:flex-row mb-4",children:[a.jsx("h1",{className:"text-5xl font-sans font-bold",children:"Laporan Pertanggungjawaban"}),a.jsxs(S,{open:g,onOpenChange:l,children:[a.jsx(N,{asChild:!0,children:a.jsxs(p,{variant:"blue",size:"default",children:[a.jsx(L,{size:20,className:"mr-2"})," Tambah Laporan"]})}),a.jsxs(k,{children:[a.jsxs(F,{children:[a.jsx(T,{children:"Tambah Laporan"}),a.jsx(y,{children:"Masukkan data laporan pertanggungjawaban."})]}),a.jsx("form",{onSubmit:x,encType:"multipart/form-data",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(t,{htmlFor:"id_anggaran",children:"Anggaran"}),a.jsxs(w,{value:i.id_anggaran,onValueChange:e=>n("id_anggaran",e),children:[a.jsx(P,{className:"w-full",children:a.jsx(A,{placeholder:"Pilih Anggaran"})}),a.jsx(I,{children:f.map((e,s)=>a.jsx(B,{value:e.id.toString(),children:e.perihal},s))})]}),r.id_anggaran&&a.jsx("p",{className:"text-red-600",children:r.id_anggaran})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(t,{htmlFor:"file_laporan",children:"File Anggaran (PDF/Word)"}),a.jsx(o,{type:"file",id:"file_laporan",onChange:e=>{var d;const s=((d=e.target.files)==null?void 0:d[0])||null;n("file_laporan",s)},required:!0}),r.file_laporan&&a.jsx("p",{className:"text-red-500",children:r.file_laporan})]}),a.jsxs("div",{children:[a.jsx(t,{htmlFor:"foto_dokumentasi",children:"Foto Dokumentasi"}),a.jsx(o,{id:"foto_dokumentasi",type:"file",onChange:e=>{var s;return n("foto_dokumentasi",((s=e.target.files)==null?void 0:s[0])||null)}}),r.foto_dokumentasi&&a.jsx("p",{className:"text-red-600",children:r.foto_dokumentasi})]}),a.jsxs("div",{children:[a.jsx(t,{htmlFor:"narasi",children:"Narasi"}),a.jsx(o,{id:"narasi",value:i.narasi,onChange:e=>n("narasi",e.target.value)}),r.narasi&&a.jsx("p",{className:"text-red-600",children:r.narasi})]}),a.jsx(C,{children:a.jsx(p,{type:"submit",disabled:h,children:"Simpan Laporan"})})]})})]})]})]}),a.jsx("hr",{className:"border-t-2 border-gray-400"})]}),a.jsx(v,{data:c,columns:D})]})};export{ga as default};
